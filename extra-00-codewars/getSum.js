#! /usr/bin/env node
"use strict"
import assert from "node:assert"

/*******************************************************************************
*  Given two integers a and b, which can be positive or negative, find         *
*  the sum of all the integers between and including them and return           *
*  it. If the two numbers are equal return a or b.                             *
*******************************************************************************/

const getSum = [
/*******************************************************************************
*  using a for loop                                                            *
*******************************************************************************/
  ( a, b ) => {
    const start = Math.min( a, b );
    const end   = Math.max( a, b );

    let sum = 0;
    for ( let i = start; i <= end; i++ ) sum += i;

    return sum;
  },

/*******************************************************************************
*  using a while loop                                                          *
*******************************************************************************/
  ( a, b ) => {
    let [ start, end ] = a < b ? [ a, b ] : [ b, a ]

    let sum = 0;
    while ( start <= end ) sum += start++;

    return sum;
  },

/*******************************************************************************
*  without temp variables                                                      *
*******************************************************************************/
  ( a, b ) => {
    let sum = 0;
    for ( let i = Math.min( a, b ); i <= Math.max( a, b ); i++ ) sum += i;

    return sum;
  },

/*******************************************************************************
*  using reduce                                                                *
*******************************************************************************/
  ( a, b ) => [ ...Array( Math.abs( a - b ) + 1 ).keys() ]
    .reduce( ( sum, n ) => sum + n + Math.min( a, b ), 0 ),

/*******************************************************************************
*  using the mathematic formula getting the sum of an arithmetic sequence      *
*******************************************************************************/
  ( a, b ) => ( Math.abs( a - b ) + 1 ) * ( a + b ) / 2,

/*******************************************************************************
*  using a recursive function                                                  *
*******************************************************************************/
  ( a, b ) => a > b ? getSum[5]( b, a ) : a === b ? a : a + getSum[5]( ++a, b ),
];

/*******************************************************************************
*  tests                                                                       *
*******************************************************************************/
const tests = [
  [ [ 0, -1 ], -1 ],
  [ [ 0,  1 ],  1 ],
  [ [ 1,  0 ],  1 ],
  [ [ 1,  2 ],  3 ],
  [ [ 0,  1 ],  1 ],
  [ [ 1,  1 ],  1 ],
  [ [-1,  0 ], -1 ],
  [ [-1,  2 ],  2 ],
];

getSum.forEach( func =>
  tests.forEach( ([ input, expected ]) =>
    assert.strictEqual( func( ...input ), expected )
));
